name: Build test for SUMMA-Actors
on:
  #push:
  #  branches: [ main ]
  #pull_request:
  #  branches: [ main ]
  workflow_dispatch: # for manually triggered workflow

jobs:
  Install-Packages:
    name: Install packages
    runs-on: ubuntu-latest
    defaults:
      run:
        shell: bash
        working-directory: ./utils/dependencies
    steps:
      - uses: actions/checkout@v4  # checkout SUMMA-Actors repo
      - run: echo "Build Test"
      - run: gfortran --version    # check for gfortran compiler
      - run: g++ --version         # check for g++ compiler
      - run: curl --version        # check for curl
      - run: wget --version        # check for wget
      #- run: ./install_lapack.sh   # install LAPACK -- successful
      #- run: ./install_netcdf.sh   # install NetCDF -- possible errors
      #- run: ./install_caf.sh      # install CAF -- successful
      #- run: ./install_sundials.sh # install SUNDIALS -- successful
  Install-SUMMA:
    name: Clone SUMMA
    runs-on: ubuntu-latest
    defaults:
      run:
        shell: bash
        working-directory: ./build
    steps:
      - uses: actions/checkout@v4  # checkout SUMMA-Actors repo
      - run: git clone -b develop_sundials https://github.com/CH-Earth/summa.git
